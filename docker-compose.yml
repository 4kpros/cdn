services:
  api-cdn:
    container_name: api-cdn
    build:
      context: .
      target: api-cdn
      dockerfile: ./Dockerfile
    restart: on-failure
    environment:
      APP_PORT: ${APP_PORT:-3100}
      GIN_MODE: ${GIN_MODE:-debug} # debug, release
    volumes:
      - api-cdn-data:/data
    ports:
      - ${APP_PORT:-3100}:3100

volumes:
  api-cdn-data:
